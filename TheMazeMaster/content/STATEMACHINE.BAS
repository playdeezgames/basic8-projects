'STATE IDENTIFIERS
STATE_IN_PLAY="INPLAY"
STATE_TITLE="TITLE"
'STATE HANDLERS
IMPORT "INPLAY.BAS"
IMPORT "TITLE.BAS"

CURRENT_STATE=STATE_TITLE
DEF STATE_MACHINE_UPDATE(DELTA)
    IF CURRENT_STATE=STATE_IN_PLAY THEN
        CURRENT_STATE=IN_PLAY_UPDATE(DELTA)
    ELSEIF CURRENT_STATE=STATE_TITLE THEN
        CURRENT_STATE=TITLE_UPDATE(DELTA)
    ELSE
        RAISE("INVALID STATE: "+CURRENT_STATE+"!")
    ENDIF
ENDDEF
