DEF IN_PLAY_DRAW_MAP()
    MX=CREATURE_MAZE_COLUMN(PLAYER_CREATURE_INDEX)
    MY=CREATURE_MAZE_ROW(PLAYER_CREATURE_INDEX)
    ROOM_MAP = GET_ROOM_MAP(MX,MY)
    MAP ROOM_MAP,0,0
ENDDEF

DEF IN_PLAY_MOVE_PLAYER()
    D=DIRECTION_COUNT
    IF KEYP CODE_UP THEN
        D=DIRECTION_NORTH
    ELSEIF KEYP CODE_DOWN THEN
        D=DIRECTION_SOUTH
    ELSEIF KEYP CODE_LEFT THEN
        D=DIRECTION_WEST
    ELSEIF KEYP CODE_RIGHT THEN
        D=DIRECTION_EAST
    ENDIF
    IF D<DIRECTION_COUNT THEN
        MOVE_PLAYER(D)
    ENDIF
ENDDEF

DEF IN_PLAY_UPDATE(DELTA)
    IN_PLAY_DRAW_MAP()
    IN_PLAY_MOVE_PLAYER()
    RETURN STATE_IN_PLAY
ENDDEF