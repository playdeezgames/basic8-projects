DEF IN_PLAY_DRAW_MAP()
    MX=CREATURE_MAZE_COLUMN(PLAYER_CREATURE_INDEX)
    MY=CREATURE_MAZE_ROW(PLAYER_CREATURE_INDEX)
    ROOM_MAP = GET_ROOM_MAP(MX,MY)
    MAP ROOM_MAP,0,0
ENDDEF
DEF IN_PLAY_MOVE_PLAYER()
    R=STATE_IN_PLAY
    D=DIRECTION_COUNT
    IF KEYP CODE_UP THEN
        D=DIRECTION_NORTH
    ELSEIF KEYP CODE_DOWN THEN
        D=DIRECTION_SOUTH
    ELSEIF KEYP CODE_LEFT THEN
        D=DIRECTION_WEST
    ELSEIF KEYP CODE_RIGHT THEN
        D=DIRECTION_EAST
    ENDIF
    IF D<DIRECTION_COUNT THEN
        MR=MOVE_PLAYER(D)
        IF MR=MOVE_FIGHT THEN
            FIGHT_CREATURE_INDEX=GET_PLAYER_ENEMY(D)
            FIGHT_START()
            RETURN STATE_FIGHT
        ELSEIF MR=MOVE_ITEM THEN
            'GO TO ITEM TAKE SCREEN
        ENDIF
    ENDIF
    RETURN R
ENDDEF
DEF IN_PLAY_UPDATE(DELTA)
    IN_PLAY_DRAW_MAP()
    RETURN IN_PLAY_MOVE_PLAYER()
ENDDEF